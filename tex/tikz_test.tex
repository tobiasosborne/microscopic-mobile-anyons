% tikz_test.tex
% Comprehensive Test File for TikZ Style Library
% ============================================================
% This file demonstrates all macros and styles defined in tikz_styles.tex
% Compile with: pdflatex tikz_test.tex

\documentclass[11pt,a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb}
\usepackage[margin=1in]{geometry}
\usepackage{booktabs}
\usepackage{array}
\usepackage{float}
\usepackage{multirow}

% Load the TikZ style library
\input{tikz_styles}

\title{TikZ Style Library Test\\
\large Fusion Category Diagrams for Mobile Anyons}
\author{Test Document}
\date{\today}

\begin{document}

\maketitle
\tableofcontents
\newpage

% ============================================================
\section{Basic Fusion Category Diagrams}
% ============================================================

\subsection{Trivalent Vertices}

The basic trivalent vertex represents fusion/splitting:

\begin{center}
\begin{tabular}{ccc}
$\trivalentvertex{a}{b}{c}$ &
$\trivalentvertex{X}{Y}{Z}$ &
$\trivalentvertex{\tau}{\tau}{\tau}$ \\[0.5cm]
\verb|\trivalentvertex{a}{b}{c}| &
\verb|\trivalentvertex{X}{Y}{Z}| &
\verb|\trivalentvertex{\tau}{\tau}{\tau}|
\end{tabular}
\end{center}

\subsection{Fusion Trees}

Left-associative and right-associative fusion trees:

\begin{center}
\begin{tabular}{cc}
$\fuselefttree{a}{b}{e}{c}{d}$ & $\fuserighttree{a}{b}{f}{c}{d}$ \\[0.5cm]
\verb|\fuselefttree{a}{b}{e}{c}{d}| & \verb|\fuserighttree{a}{b}{f}{c}{d}|
\end{tabular}
\end{center}

\subsection{F-Move (Associator)}

The F-move relates different fusion orders:

\[
\Fmoveequation{a}{b}{c}{d}{e}{f}
\]

\begin{center}
\verb|\Fmoveequation{a}{b}{c}{d}{e}{f}|
\end{center}

% ============================================================
\section{Duality: Cups and Caps}
% ============================================================

\subsection{Evaluation and Coevaluation}

\begin{center}
\begin{tabular}{cc}
\textbf{Evaluation (Cup)} & \textbf{Coevaluation (Cap)} \\[0.3cm]
$\evalcup{X}$ & $\coevalcap{X}$ \\[0.3cm]
\verb|\evalcup{X}| & \verb|\coevalcap{X}|
\end{tabular}
\end{center}

\subsection{Zigzag Identities (Snake Equations)}

The zigzag identities express that cups and caps are inverse:

\begin{center}
\begin{tabular}{cc}
$\leftzigzag{X}\ =\ \identitystrand{X}$ &
$\rightzigzag{X}\ =\ \identitystrand{X^*}$ \\[0.5cm]
\verb|\leftzigzag{X}| & \verb|\rightzigzag{X}|
\end{tabular}
\end{center}

\subsection{Bigon and Quantum Dimension}

\begin{center}
\begin{tabular}{ccc}
$\bigon{a}{b}{c}$ & $\qdimloop{X}$ & $\identitystrand{X}$ \\[0.5cm]
\verb|\bigon{a}{b}{c}| & \verb|\qdimloop{X}| & \verb|\identitystrand{X}|
\end{tabular}
\end{center}

% ============================================================
\section{Braiding and R-Moves}
% ============================================================

\subsection{Braiding Crossings}

Over-crossing (positive) and under-crossing (negative):

\begin{center}
\begin{tabular}{cc}
\textbf{Over-crossing} $c_{X,Y}$ & \textbf{Under-crossing} $c_{X,Y}^{-1}$ \\[0.3cm]
$\braidingover{X}{Y}$ & $\braidingunder{X}{Y}$ \\[0.3cm]
\verb|\braidingover{X}{Y}| & \verb|\braidingunder{X}{Y}|
\end{tabular}
\end{center}

\subsection{Twist (Ribbon Element)}

The twist encodes the topological spin:

\begin{center}
$\twist{X}$
\qquad
\verb|\twist{X}|
\end{center}

% ============================================================
\section{Temperley-Lieb Patterns}
% ============================================================

The Temperley-Lieb algebra generators for 2 strands:

\begin{center}
\begin{tabular}{ccc}
\textbf{Identity} & \textbf{Cup-Cap} $(e_i)$ & \textbf{H-pattern} \\[0.3cm]
$\TLidentity$ & $\TLcupcap$ & $\TLhorizontal$ \\[0.3cm]
\verb|\TLidentity| & \verb|\TLcupcap| & \verb|\TLhorizontal|
\end{tabular}
\end{center}

% ============================================================
\section{Trivalent Category Relations}
% ============================================================

For categories generated by a rotationally invariant trivalent vertex with parameters $(d, b, t)$.

\subsection{Loop Relation}

A closed loop evaluates to the quantum dimension $d$:

\begin{center}
$\trivloopeq$
\qquad\qquad
\verb|\trivloopeq|
\end{center}

Or just the loop: $\trivloop$ = \verb|\trivloop|

\subsection{Lollipop (Forbidden Diagram)}

In trivalent categories, lollipops vanish:

\begin{center}
$\trivlollipop\ = 0$
\qquad\qquad
\verb|\trivlollipop|
\end{center}

\subsection{Bigon Relation}

The bigon simplifies to $b$ times the identity:

\begin{center}
$\trivbigoneq$
\end{center}
\begin{center}
\verb|\trivbigoneq|
\end{center}

\subsection{Triangle Relation}

A triangle with external legs equals $t$ times the trivalent vertex:

\begin{center}
$\trivtriangleeq$
\end{center}
\begin{center}
\verb|\trivtriangleeq|
\end{center}

\subsection{Square Diagram}

The square face with four external legs:

\begin{center}
$\trivsquare$
\qquad\qquad
\verb|\trivsquare|
\end{center}

% ============================================================
\section{$\mathfrak{C}_4$ Basis Diagrams}
% ============================================================

In a cubic trivalent category, these four diagrams form a basis for $\mathrm{Hom}(\mathbf{1}, X^{\otimes 4})$:

\begin{center}
\begin{tabular}{cccc}
$w_1$ & $w_2$ & $w_3$ & $w_4$ \\[0.3cm]
$\Cfourone$ & $\Cfourtwo$ & $\Cfourthree$ & $\Cfourfour$ \\[0.5cm]
\verb|\Cfourone| & \verb|\Cfourtwo| & \verb|\Cfourthree| & \verb|\Cfourfour|
\end{tabular}
\end{center}

\subsection{Square Decomposition}

The square decomposes as a linear combination of basis elements:

\[
\trivsquaredecomp
\]

where $\alpha = \frac{b(b^2+bt-t^2)}{bd+t+dt}$ and $\beta = \frac{t^2(d+1)-b^2}{bd+t+dt}$.

% ============================================================
\section{$\mathfrak{C}_5$ Basis Diagrams}
% ============================================================

Representative patterns for 5 boundary points:

\begin{center}
\begin{tabular}{ccc}
\textbf{Star} & \textbf{Chain} & \textbf{Pentagon} \\[0.3cm]
$\Cfivestar$ & $\Cfivechain$ & $\Cfivepentagon$ \\[0.5cm]
\verb|\Cfivestar| & \verb|\Cfivechain| & \verb|\Cfivepentagon|
\end{tabular}
\end{center}

% ============================================================
\section{$\mathfrak{C}_6$ Basis Diagrams}
% ============================================================

Representative patterns for 6 boundary points:

\begin{center}
\begin{tabular}{cccc}
\textbf{Three Bigons} & \textbf{Dumbbell} & \textbf{Hexagon} & \textbf{Pentafork} \\[0.3cm]
$\Csixthreebigon$ & $\Csixdumbbell$ & $\Csixhexagon$ & $\Csixpentafork$ \\[0.5cm]
\verb|\Csixthreebigon| & \verb|\Csixdumbbell| & \verb|\Csixhexagon| & \verb|\Csixpentafork|
\end{tabular}
\end{center}

% ============================================================
\section{Inner Product Pairing}
% ============================================================

The bilinear inner product of two trivalent graphs $f, g$ with $n$ boundary points:

\begin{center}
$\langle f, g \rangle = \trivinnerprod{f}{g}$
\end{center}

\begin{center}
\verb|\trivinnerprod{f}{g}|
\end{center}

% ============================================================
\section{2-Local Hamiltonian Diagrams}
% ============================================================

These diagrams are useful for constructing nearest-neighbor Hamiltonians on anyon chains.

\subsection{Basic 2-Site Operators}

\begin{center}
\begin{tabular}{cccc}
\textbf{Identity} & \textbf{Swap} & \textbf{Cup-Cap} & \textbf{H-pattern} \\[0.3cm]
$\Htwoidentity$ & $\Htwoswap$ & $\Htwocupcap$ & $\HtwoH$ \\[0.5cm]
\verb|\Htwoidentity| & \verb|\Htwoswap| & \verb|\Htwocupcap| & \verb|\HtwoH|
\end{tabular}
\end{center}

\subsection{Fusion with Intermediate Channel}

\begin{center}
\begin{tabular}{ccc}
$\Htwofusion{c}$ & $\Htwofusion{\mathbf{1}}$ & $\Htwofusion{X}$ \\[0.5cm]
\verb|\Htwofusion{c}| & \verb|\Htwofusion{\mathbf{1}}| & \verb|\Htwofusion{X}|
\end{tabular}
\end{center}

\subsection{Local Operator in Chain Context}

\begin{center}
$\chainlocal{H}$
\qquad\qquad
\verb|\chainlocal{H}|
\end{center}

% ============================================================
\section{Anyon Chain}
% ============================================================

A simple anyon chain template:

\begin{center}
$\anyonchain{a}$
\end{center}

\begin{center}
\verb|\anyonchain{a}|
\end{center}

% ============================================================
\section{Utility Macros}
% ============================================================

\subsection{Circled Numbers}

\begin{center}
\begin{tabular}{ccccc}
$\circlednum{1}$ & $\circlednum{2}$ & $\circlednum{3}$ & $\circlednumcolor{red}{4}$ & $\circlednumcolor{blue}{5}$ \\[0.3cm]
\verb|\circlednum{1}| & \verb|\circlednum{2}| & \verb|\circlednum{3}| & \verb|\circlednumcolor{red}{4}| & \verb|\circlednumcolor{blue}{5}|
\end{tabular}
\end{center}

\subsection{F-Symbol Diamond}

For labeling F-symbol indices: $\Fdiamond{\alpha}$, $\Fdiamond{\beta}$

\begin{center}
\verb|\Fdiamond{\alpha}|, \verb|\Fdiamond{\beta}|
\end{center}

% ============================================================
\section{Color Definitions}
% ============================================================

The following colors are defined for use in diagrams:

\begin{center}
\begin{tabular}{ll}
\textcolor{AnyonRed}{AnyonRed} & Primary anyon color \\
\textcolor{AnyonBlue}{AnyonBlue} & Secondary anyon color \\
\textcolor{AnyonGreen}{AnyonGreen} & Tertiary anyon color \\
\textcolor{AnyonOrange}{AnyonOrange} & Quaternary anyon color \\
\textcolor{LightGray}{LightGray} & Background for boxes \\
\textcolor{MediumGray}{MediumGray} & Borders and accents \\
\end{tabular}
\end{center}

% ============================================================
\section{TikZ Styles Reference}
% ============================================================

\subsection{Arrow Styles}

\begin{center}
\begin{tikzpicture}
    \draw[->-] (0,0) -- (2,0) node[right] {\texttt{->-} (arrow at 60\%)};
    \draw[-<-] (0,-0.7) -- (2,-0.7) node[right] {\texttt{-<-} (reverse at 60\%)};
    \draw[->>-] (0,-1.4) -- (2,-1.4) node[right] {\texttt{->>-} (arrow at 50\%)};
    \draw[-->--] (0,-2.1) -- (2,-2.1) node[right] {\texttt{-->--} (arrow at 52\%)};
\end{tikzpicture}
\end{center}

\subsection{Box and Vertex Styles}

\begin{center}
\begin{tikzpicture}
    \node[morphism box] at (0,0) {$f$};
    \node at (0,-0.8) {\texttt{morphism box}};

    \node[morphism box small] at (3,0) {$g$};
    \node at (3,-0.8) {\texttt{morphism box small}};

    \node[morphism box large] at (6,0) {$h$};
    \node at (6,-0.8) {\texttt{morphism box large}};

    \node[fusion vertex] at (9,0) {};
    \node at (9,-0.8) {\texttt{fusion vertex}};

    \node[fusion vertex empty] at (11,0) {};
    \node at (11,-0.8) {\texttt{fusion vertex empty}};
\end{tikzpicture}
\end{center}

% ============================================================
\section{Example: Golden Chain Hamiltonian}
% ============================================================

As an example, here is how to write a 2-local Hamiltonian term for the golden chain using these macros:

\[
H = -\sum_i \left( \Htwofusion{\mathbf{1}} + \phi^{-1} \Htwofusion{\tau} \right)_i
\]

where $\phi = \frac{1+\sqrt{5}}{2}$ is the golden ratio.

The projector onto the trivial fusion channel at sites $i, i+1$ is:

\[
P^{(\mathbf{1})}_{i,i+1} = \frac{1}{d} \Htwocupcap
\]

% ============================================================
\section{Example: Trivalent Category Calculation}
% ============================================================

In the Fibonacci category with $d = \phi$, $b = 1$, $t = \frac{d-2}{d-1}$:

\[
\trivloop = d = \phi \approx 1.618
\]

\[
\trivbigon = b \cdot \begin{tikzpicture}[scale=0.7,baseline=(current bounding box.center)]
    \draw (0,0) -- (0,1.2);
\end{tikzpicture} = 1 \cdot \begin{tikzpicture}[scale=0.7,baseline=(current bounding box.center)]
    \draw (0,0) -- (0,1.2);
\end{tikzpicture}
\]

The four basis diagrams in $\mathfrak{C}_4$ satisfy:

\[
\Cfourfour - \Cfourthree + \frac{1}{d+1}\Cfourone + \frac{1}{d-1}\Cfourtwo = 0
\]

% ============================================================
\appendix
\section{Quick Reference Card}
% ============================================================

\begin{table}[H]
\centering
\small
\begin{tabular}{lll}
\toprule
\textbf{Category} & \textbf{Macro} & \textbf{Output} \\
\midrule
\multirow{3}{*}{Vertices}
& \verb|\trivalentvertex{a}{b}{c}| & $\trivalentvertex{a}{b}{c}$ \\
& \verb|\fuselefttree{a}{b}{e}{c}{d}| & $\fuselefttree{a}{b}{e}{c}{d}$ \\
& \verb|\fuserighttree{a}{b}{f}{c}{d}| & $\fuserighttree{a}{b}{f}{c}{d}$ \\
\midrule
\multirow{2}{*}{Duality}
& \verb|\evalcup{X}| & $\evalcup{X}$ \\
& \verb|\coevalcap{X}| & $\coevalcap{X}$ \\
\midrule
\multirow{3}{*}{Braiding}
& \verb|\braidingover{X}{Y}| & $\braidingover{X}{Y}$ \\
& \verb|\braidingunder{X}{Y}| & $\braidingunder{X}{Y}$ \\
& \verb|\twist{X}| & $\twist{X}$ \\
\midrule
\multirow{4}{*}{Trivalent}
& \verb|\trivloop| & $\trivloop$ \\
& \verb|\trivbigon| & $\trivbigon$ \\
& \verb|\trivtriangle| & $\trivtriangle$ \\
& \verb|\trivsquare| & $\trivsquare$ \\
\midrule
\multirow{4}{*}{$\mathfrak{C}_4$ Basis}
& \verb|\Cfourone| & $\Cfourone$ \\
& \verb|\Cfourtwo| & $\Cfourtwo$ \\
& \verb|\Cfourthree| & $\Cfourthree$ \\
& \verb|\Cfourfour| & $\Cfourfour$ \\
\midrule
\multirow{4}{*}{2-Local}
& \verb|\Htwoidentity| & $\Htwoidentity$ \\
& \verb|\Htwocupcap| & $\Htwocupcap$ \\
& \verb|\HtwoH| & $\HtwoH$ \\
& \verb|\Htwofusion{c}| & $\Htwofusion{c}$ \\
\bottomrule
\end{tabular}
\caption{Quick reference for commonly used TikZ macros}
\end{table}

\end{document}
